{namespace neos=TYPO3\Neos\ViewHelpers}
{namespace ts=TYPO3\TypoScript\ViewHelpers}
<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
  <ul class="nav navbar-nav">
    <f:render section="itemsList" arguments="{items: items}" />
  </ul>
</div>

<f:section name="itemsList">
  <f:for each="{items}" as="item">
    <f:if condition="{item.subItems}">
      <f:then>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">{item.label} <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <f:render section="itemsList" arguments="{items: item.subItems}" />
          </ul>
        </li>
      </f:then>
      <f:else>
        <li{ts:render(path:'{item.state}.attributes', context: {item: item}) -> f:format.raw()}>
          <neos:link.node node="{item.node}">{item.label}</neos:link.node>
        </li>
      </f:else>

    </f:if>
    </li>
  </f:for>
</f:section>

<!--     <li class="active"><a href="#">Link <span class="sr-only">(current)</span></a></li>
<li><a href="#">Link</a></li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Dropdown <span class="caret"></span></a>
  <ul class="dropdown-menu" role="menu">
    <li><a href="#">Action</a></li>
    <li><a href="#">Another action</a></li>
    <li><a href="#">Something else here</a></li>
    <li class="divider"></li>
    <li><a href="#">Separated link</a></li>
    <li class="divider"></li>
    <li><a href="#">One more separated link</a></li>
  </ul>
</li>
 -->
